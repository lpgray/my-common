<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
	<!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>CodeSnippets</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width">

		<link rel="stylesheet" href="css/bootstrap.min.css">

		<link rel="stylesheet" href="css/bootstrap-responsive.min.css">
		<link rel="stylesheet" href="css/main.css">

		<link rel="stylesheet" href="css/plugin/loading.css">
		<link rel="stylesheet" href="css/plugin/confirmpanel.css">
		<link rel="stylesheet" href="css/plugin/pagin.css">
		<link rel="stylesheet" href="css/plugin/gridtree.css">

		<style>
			.alert {
				margin: 0;
			}
			.btn-mini [class^="icon-"], .btn-mini [class*=" icon-"] {
				margin-top: 1px;
			}
			th input[type="checkbox"], td input[type="checkbox"] {
				vertical-align: middle;
				margin: 0;
			}
			select, textarea, input[type="text"], input[type="password"], input[type="datetime"], input[type="datetime-local"], input[type="date"], input[type="month"], input[type="time"], input[type="week"], input[type="number"], input[type="email"], input[type="url"], input[type="search"], input[type="tel"], input[type="color"], .uneditable-input {
				margin-bottom: 0;
			}

			body {
				padding-top: 60px;
				padding-bottom: 40px;
			}
			.row > div {
				padding: 5px 10px;
				margin-bottom: 10px;
				-webkit-box-sizing: border-box;
				box-sizing: border-box;
				border-radius: 5px;
				border: 1px solid #cdcdcd;
				-webkit-box-shadow: 0 0 5px rgba(0,0,0,.2);
				box-shadow: 0 0 5px rgba(0,0,0,.2);
				min-height: 250px;
				position: relative;
			}
			.row > div > p > .btn {
				position: absolute;
				bottom: 10px;
				right: 10px;
			}
			.hero-unit h1 {
				margin-bottom: 20px;
			}
			.brand, h1, h2, h3 {
				font-family: "microsoft yahei";
				font-weight: normal;
			}
		</style>

		<script src="js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
	</head>
	<body>
		<!--[if lt IE 7]>
		<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
		<![endif]-->

		<!-- This code is taken from http://twitter.github.com/bootstrap/examples/hero.html -->

		<div class="navbar navbar-inverse navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </a>
					<a class="brand" href="#">CodeSnippets</a>
                    <div class="nav-collapse collapse">
                        <ul class="nav">
                            <li><a href="index.html">第一期</a></li>
                            <li class="active"><a href="#about">第二期</a></li>
                        </ul>
                    </div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

		<div class="container">

			<!-- Main hero unit for a primary marketing message or call to action -->
			<div class="hero-unit">
				<h1>工作代码片段整理 - 第二期</h1>
				<p>
					第二期主要是ajax增删改查及表单相关的一些代码片段
				</p>

			</div>

			<!-- Example row of columns -->
			<div class="row">
				<div class="span4">
					<h3>jquery.validation</h3>
					<p>
						jquery.validation插件的使用
					</p>
					<form action="testttt" id="">
						<div class="control-group">
							<input type="text" class="validate[required, custom[email]]" placeholder="输入邮箱" value="rayzy1991@163.com"/>
							<span class="help-inline">邮箱</span>
						</div>
						<div class="control-group">
							<input type="password" class="validate[required]" value="123"/>
							<span class="help-inline"></span>
						</div>
						<a href="#" class="btn btn-primary j_ajax_form">登录</a>
					</form>
				</div>
				<div class="span4">
					<h3>ajax4data</h3>
					<p>
						其实ajax删、改、查都可以归到这一类中来，点击某一链接或者按钮对后台发起一个ajax请求，然后将请求结果显示在某一个页面元素中。
					</p>
					<div>
						<table class="table table-hover table-condensed">
							<tbody id="J_RES_CTN"></tbody>
						</table>
					</div><a href="json/test.json" data-result="#J_RES_CTN" class="btn btn-primary j_a4d">点击发起ajax请求</a>
				</div>
				<div class="span4">
					<h3>ajax4data with callback</h3>
					<p>
						这种形态针对那些对ajax成功请求到数据以后，需要在加载数据后回调自定义函数。自定义函数需要存放在 a4dcbk 这个对象中，然后将函数名称写入 data-callback 属性中。
					</p>
					<table class="table table-hover table-condensed">
						<tbody id="J_RES_CTN2"></tbody>
					</table><a href="json/test.json" data-result="#J_RES_CTN2" class="btn btn-primary j_a4d" data-callback="renderGridTree">点击发起带有自定义回调的ajax请求</a>
				</div>
			</div>
			<br />
			<div class="row">
				<div class="span4">
					<h3>ajax上传文件</h3>
					<p>
						有时候有ajax上传图片的需求
					</p>
					<form action="">

					</form>
				</div>
				<div class="span4">
					<h3>删除前的确认</h3>
					<p>
						删除操作是非常常见的，但是删除前一般需要进行确认，这里就定义了一个全局的删除前的确认功能。
						<br />
						暂时有两种形态:
						<br />
						一种是界面跳转删除 : .j_remove
						<br />
						另一种是ajax删除 .j_ajax_remove(一般需要与 .j_a4d结合使用)
					</p>
					<table class="table table-hover table-condensed">
						<tbody id="J_RES_CTN3">

						</tbody>
					</table>
					<a href="/" class="btn btn-mini btn-danger j_remove">跳转删除</a>
					<a href="json/test.json" data-result="#J_RES_CTN3" class="btn btn-mini btn-danger j_a4d j_ajax_remove" data-callback="renderGridTree">ajax删除</a>
					<br />
				</div>
			</div>
			<br />
			<div class="row">
				<div class="span6">
					<h3>表单序列化成json</h3>
					<p>
						本插件支持多级序列化，什么是多级？点一下就知道啦！
					</p>
					<form id="J_FORM_1" action="#">
						<div class="control-group">
							
							<input type="text" name="base.usrname" value="xiaoming"/>
							<span class="help-inline">&lt;input name="<strong>base.usrname</strong>"/&gt;</span>
						</div>
						<div class="control-group">
							<input type="password" name="base.pass" value="123"/>
							<span class="help-inline">&lt;input name="<strong>base.pass</strong>"/&gt;</span>
						</div>
						<div class="control-group">
							<label for="">爱好</label>
							<select name="habbit" id="">
								<option value="reading">读书</option>
							</select>
							<span class="help-inline">&lt;input name="<strong>habbit</strong>"/&gt;</span>
						</div>
						<div class="control-group">
							<label for="">性别</label>
							<label for="" class="radio inline">
								<input type="radio" name="base.gender" value="male" checked/>
								男 </label>
							<label for="" class="radio inline">
								<input type="radio" name="base.gender" value="female"/>
								女 </label>
							<span class="help-inline">&lt;input name="<strong>base.gender</strong>"/&gt;</span>
						</div>
						<div class="control-group">
							<textarea name="desc" id="" >this is my self description</textarea>
						</div>
						<div id="J_RESULT" style="overflow: hidden">
							
						</div>
					</form>
					<a href="#" class="btn btn-primary" onclick="$('#J_RESULT').html( JSON.stringify( $('#J_FORM_1').serializeObject() ) );">点击序列化表单</a>
				</div>
				<div class="span6">
					<h3>多级对象转单级对象</h3>
					<p>上一步格式化得到的对象，有时需要执行相反操作，这里有一个工具函数满足这个需求。</p>
					<textarea id="J_TA" name=""></textarea><br /><br />
					<div id="J_RESULT_2" style="overflow: hidden"></div>
					<a href="#" class="btn btn-primary j_parse">转化成单级对象</a>
				</div>
			</div>
		
		<hr>

		<footer>
			<p>
				&copy; Ray Zhang 2013
			</p>
		</footer>

		</div> <!-- /container -->

		<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
		<script>
			window.jQuery || document.write('<script src="js/vendor/jquery-1.9.1.min.js"><\/script>')
		</script>

		<script src="js/vendor/bootstrap.min.js"></script>

		<script src="js/vendor/jquery.validationEngine-zh_CN.js"></script>
		<script src="js/vendor/jquery.validationEngine.js"></script>
		<script src="js/dest/util.js"></script>
		<script src="js/dest/interaction.js"></script>
		<script src="js/dest/communication.js"></script>
		<script src="js/main.js"></script>
		<script>
			$('.j_parse').click(function(){
				var str = $('#J_TA').val()
				    , obj = $.parseJSON(str)
					, sObj = multipleToSingle(obj);
				$('#J_RESULT_2').html(JSON.stringify(sObj));
			});
		</script>
	</body>
</html>
